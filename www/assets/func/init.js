var FUNC=window.FUNC||{};FUNC.version=FUNC.version||.1,FUNC.Base=class{abstract(s){if(void 0!==eval(this[s]))throw Error('"'+s+'()" METHOD is Abstract!');if(this.constructor.name==s)throw Error('":'+s+'" CLASS is Abstract!')}constructor(){this.abstract("Base")}},FUNC.Enum=class extends FUNC.Base{#a;constructor(){super(),this.#a=[];for(let t=0,e=arguments.length;t<e;t++){let s=arguments[t];this[s.replace("-","_").replace(" ","_").toUpperCase()]=t,this.#a[t]={name:s,value:t}}}at(t){return isNaN(t)?this.#a.find(e=>e.name==t):this.#a[t]}get count(){return this.#a.length}},FUNC.Exception=class extends FUNC.Base{static #b;static get types(){return this.#b=this.#b||new FUNC.Enum("BadMethodCall","OutOfBounds","UnexpectedArgument","UndeclaredClass"),this.#b}#c;#d;constructor(t,e){super(),this.#c=t,this.#d=e}toString(){return FUNC.Exception.types.at(this.#c).name+"Exception: "+this.#d}},FUNC.Collection=class extends FUNC.Base{static createFrom(t){let e=new FUNC.Collection;for(let s=0,n=t.length;s<n;s++)e.add(t[s]);return e}#e=[];#f=-1;get length(){return this.#e.length}get current(){return this[this.#e[this.#f]]}get next(){if(0==this.length)throw new FUNC.Exception(FUNC.Exception.OUTOFBOUNDS,"length MUST be greater then 0.");return this.#f++<this.length-1}rewind(){this.#f=-1}add(t){null==this[t.id]&&(this.#e[this.#e.length]=t.id),this[t.id]=t}updateFrom(t){for(let e=0,s=t.length;e<s;e++)this.add(t[e])}},FUNC.init=function(){var libsLock,lock,inits=[],dList=[],mList=[],dev="dev"==window.location.hostname.split(".")[0];FUNC.my=FUNC.my||{},FUNC.modsPath=FUNC.modsPath||"/assets/func/mods/"+(dev?"full/":"");var loadLibs=function(t){for(let e=0,s=t.length;e<s;e++){let n=t[e];if(void 0==dList[n]){let i=document.createElement("script");i.setAttribute("id","script-"+n),i.setAttribute("src",FUNC.modsPath+n+".lib.js"),document.body.append(i),dList[n]=!0}}},loadModule=function(t){if(libsLock)return setTimeout(function(){loadModule(t)},100);if(void 0==mList[t]){let e=document.createElement("script");e.setAttribute("id","script-"+t),e.setAttribute("src",FUNC.modsPath+t+".js"),document.body.append(e),mList[t]=!0}},register=function(qS,mN,ds){let e=document.querySelectorAll(qS);e.length>0&&(lock=!0,libsLock=!0,void 0!==ds&&(loadLibs(ds),function libsExist(){for(let i=0,j=ds.length;i<j;i++){let d;if(void 0==eval("FUNC."+ds[i]))return setTimeout(libsExist,100)}libsLock=!1}()),loadModule(mN),function modExists(){if(void 0==eval("FUNC."+mN))return setTimeout(modExists,100);inits[inits.length]={name:mN,instances:e,action:eval("FUNC."+mN)},lock=!1}())},run=function(){if(lock)return setTimeout(run,100);inits.forEach(t=>{FUNC.my[t.name]=[];let e=Array.prototype.slice.call(t.instances),s=0;e.forEach(e=>{FUNC.my[t.name][s++]=t.action(e)})})};return{register,run}}();